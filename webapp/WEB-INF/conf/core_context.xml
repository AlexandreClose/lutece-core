<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/aop
		http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-2.5.xsd">


<!-- 
	works well
	<bean id="dbProperties" class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basename" value="db" />
	</bean>
	<bean id="dataSourceFactory" class="fr.paris.lutece.util.sql.DataSourceFactory">
		<property name="dbResourceBundle" ref="dbProperties" />
	</bean>


	http://static.springframework.org/spring/docs/2.5.x/reference/beans.html#beans-factory-placeholderconfigurer

	doesn't work
	<context:property-placeholder location="file:db.properties" />
	doesn't work
	<context:property-placeholder location="c:\Documents and Settings\lassallt\workspace\portal\target\lutece\WEB-INF\conf\db.properties" />
	works well
	<bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location" value="c:\Documents and Settings\lassallt\workspace\portal\target\lutece\WEB-INF\conf\db.properties" />
	</bean>

	works well
	<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
		<property name="driverClassName" value="${portal.driver}"/>
		<property name="url" value="${portal.url}"/>
		<property name="username" value="${portal.user}"/>
		<property name="password" value="${portal.password}"/>
		<property name="validationQuery" value="SELECT NOW()"/>
		<property name="testOnReturn" value="true"/>
		<property name="testOnBorrow" value="true"/>
	</bean>
 -->

    <bean id="startUpServiceManager" class="fr.paris.lutece.portal.service.init.StartUpServiceManager" >
        <property name="servicesList">
            <list>
                <!--
                    Insert Services Here
                    <ref bean="myStartUpService" />
                -->
                <!-- plugin updater -->
                <!--
                    <bean id="updaterStartUpService" class="fr.paris.lutece.plugins.updater.service.UpdaterStartUpService" />
                -->
            </list>
        </property>
    </bean>  

  <!--                      Shutdown services                                   -->
    <bean id="shutdownServiceManager" class="fr.paris.lutece.portal.service.init.ShutdownServiceManager" >
        <property name="servicesList">
            <list>
                <!--
                    Insert Services Here
                    <ref bean="myShutdownService" />
                -->
                <!-- plugin updater -->
                <!--
                    <bean id="updaterShutdownService" class="fr.paris.lutece.plugins.updater.service.UpdaterShutdownService" />
                -->
            </list>
        </property>
    </bean>  
  

  <!--                      Search Engine                                   -->
    <bean id="searchEngine" class="fr.paris.lutece.portal.service.search.LuceneSearchEngine" />
    
  <!--                      Admin Authentication                             -->
    <bean id="adminAuthenticationModule" class="fr.paris.lutece.portal.business.user.authentication.LuteceDefaultAdminAuthentication">
        <property name="dao" ref="luteceDefaultAdminUserDAO"/>
		<!--<property name="dataSourceFactory" ref="dataSourceFactory" />-->
    </bean>

  
  <!--                      Mail Queue                            -->
    <bean id="mailQueue" class="fr.paris.lutece.portal.service.mail.MemoryQueue" />
  <!--  <bean id="mailQueue" class="fr.paris.lutece.portal.service.mail.DatabaseQueue" />--> 
  <!--                      Removal Services                            -->
    <bean id="mailinglistRemovalService" class="fr.paris.lutece.portal.service.util.RemovalListenerService" />
    <bean id="workgroupRemovalService" class="fr.paris.lutece.portal.service.util.RemovalListenerService" />
    <bean id="portletRemovalService" class="fr.paris.lutece.portal.service.util.RemovalListenerService" />
    <bean id="regularExpressionRemovalService" class="fr.paris.lutece.portal.service.util.RemovalListenerService" />
    <bean id="roleRemovalService" class="fr.paris.lutece.portal.service.util.RemovalListenerService" />
  
    
  <!--                       Data Access Objects                             -->  
  <!-- package features -->
    <bean id="levelDAO"  class="fr.paris.lutece.portal.business.features.LevelDAO" />  
  
  <!-- package group -->
    <bean id="groupDAO"  class="fr.paris.lutece.portal.business.group.GroupDAO" />
    <bean id="groupRoleDAO"  class="fr.paris.lutece.portal.business.group.GroupRoleDAO" />  
  
  <!-- package mailinglist -->
    <bean id="mailingListDAO"  class="fr.paris.lutece.portal.business.mailinglist.MailingListDAO" />  
  
  <!-- package page -->
    <bean id="pageDAO"  class="fr.paris.lutece.portal.business.page.PageDAO" />
  
  <!-- package portalcomponent -->
    <bean id="portalComponentDAO"  class="fr.paris.lutece.portal.business.portalcomponent.PortalComponentDAO" />
  
  <!-- package portlet -->
    <bean id="aliasPortletDAO"  class="fr.paris.lutece.portal.business.portlet.AliasPortletDAO" />
    <bean id="portletDAO"  class="fr.paris.lutece.portal.business.portlet.PortletDAO" />
    <bean id="portletTypeDAO"  class="fr.paris.lutece.portal.business.portlet.PortletTypeDAO" />
  
  <!-- package rbac -->
    <bean id="adminRoleDAO"  class="fr.paris.lutece.portal.business.rbac.AdminRoleDAO" />
    <bean id="rBACDAO"  class="fr.paris.lutece.portal.business.rbac.RBACDAO" />
  
  <!-- package right -->
    <bean id="featureGroupDAO"  class="fr.paris.lutece.portal.business.right.FeatureGroupDAO" />
    <bean id="rightDAO"  class="fr.paris.lutece.portal.business.right.RightDAO" />   
  
  <!-- package role -->
    <bean id="roleDAO"  class="fr.paris.lutece.portal.business.role.RoleDAO" />  
  
  <!-- package style -->
    <bean id="modeDAO"  class="fr.paris.lutece.portal.business.style.ModeDAO" />
    <bean id="pageTemplateDAO"  class="fr.paris.lutece.portal.business.style.PageTemplateDAO" />
    <bean id="styleDAO"  class="fr.paris.lutece.portal.business.style.StyleDAO" />  
  
   <!-- package stylesheet -->
    <bean id="styleSheetDAO"  class="fr.paris.lutece.portal.business.stylesheet.StyleSheetDAO" />  
  
   <!-- package user -->
    <bean id="adminUserDAO"  class="fr.paris.lutece.portal.business.user.AdminUserDAO" />
    <bean id="luteceDefaultAdminUserDAO"  class="fr.paris.lutece.portal.business.user.authentication.LuteceDefaultAdminUserDAO" />
    <bean id="userLogDAO"  class="fr.paris.lutece.portal.business.user.log.UserLogDAO" />  
  
  <!-- package workgroup -->
    <bean id="adminWorkgroupDAO"  class="fr.paris.lutece.portal.business.workgroup.AdminWorkgroupDAO" />
  <!-- package mail -->
    <bean id="mailItemQueueDAO"  class="fr.paris.lutece.portal.business.mail.MailItemQueueDAO" />
</beans>